(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{epRU:function(e,t,s){"use strict";s.r(t);var n=s("o0o1"),i=s.n(n),a={props:{name:String},computed:{error:function(){return this.$page.errors[this.name]?this.$page.errors[this.name][0]:null}}},r=s("KHd+"),o=Object(r.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"space-y-1"},[s("div",{staticClass:"relative"},[e._t("default"),e._v(" "),e.error?s("div",{staticClass:"pointer-events-none absolute right-0 inset-y-0 px-3 mt-2 text-red-500"},[s("svg",{staticClass:"w-6 h-6",attrs:{viewBox:"0 0 20 20",fill:"currentColor"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"}})])]):e._e()],2),e._v(" "),e.error?s("p",{staticClass:"text-red-500 text-sm leading-5"},[e._v("\n        "+e._s(e.error)+"\n    ")]):e._e()])}),[],!1,null,null,null).exports,l={props:{value:Array},data:function(e){return{tags:e.value||[],selectedTag:null}},methods:{select:function(e){this.selectedTag=e,this.$refs.input.focus()},isSelected:function(e){return this.selectedTag===e},input:function(e){var t=e.target.value;t.endsWith(",")&&this.add(t.replace(",",""))},add:function(e){e&&(this.tags.includes(e)||(this.$refs.input.value="",this.tags.push(e)))},remove:function(e){this.$refs.input.value||(this.tags.splice(e,1),this.selectedTag=null)}},watch:{tags:{deep:!0,handler:function(e){this.$emit("input",e)}}}},c=Object(r.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex flex-wrap items-center pl-3 pr-2 pt-2 pb-1 rounded-lg border border-gray-200 bg-gray-200 focus-within:bg-white focus-within:border-indigo-300 focus-within:shadow-outline-indigo transition-shadow duration-100 ease-linear"},[e._l(e.tags,(function(t,n){return s("button",{key:"tags-"+t,staticClass:"mr-1 mb-1 px-2 py-px bg-gray-700 text-sm leading-5 text-white rounded-md whitespace-no-wrap flex-shrink-0 focus:outline-none",class:{"bg-pink-600":e.isSelected(n)},attrs:{type:"button"},on:{click:function(t){return e.select(n)}}},[e._v("\n        "+e._s(t)+"\n    ")])})),e._v(" "),s("input",{ref:"input",staticClass:"mr-1 mb-1 bg-transparent flex-1 min-w-1/4 focus:outline-none",attrs:{type:"text"},on:{input:e.input,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.add(t.target.value))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.add(t.target.value))},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"]))return null;e.remove(null!==e.selectedTag?e.selectedTag:e.tags.length-1)}]}})],2)}),[],!1,null,null,null).exports,u=s("vDqi"),d=s.n(u),f={props:{value:String},data:function(e){return{state:"idle",preview:e.value}},computed:{isLoading:function(){return"loading"===this.state}},methods:{upload:function(e){var t=this;if(e.target.files.length){this.state="loading";var s=e.target.files[0];this.preview=URL.createObjectURL(s);var n=new FormData;n.append("file",s),d.a.post(this.$route("media.store").url(),n).then((function(e){t.state="idle",t.preview=e.data.url,t.$emit("input",e.data.url)}))}}}},m=Object(r.a)(f,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("button",{staticClass:"relative pb-2/3 border-2 border-dashed border-gray-400 bg-white rounded-xl overflow-hidden w-full block focus:outline-none",attrs:{type:"button",disabled:e.isLoading},on:{click:function(t){return e.$refs.file.click()}}},[e.preview?s("div",{staticClass:"absolute inset-0 flex items-center justify-center"},[s("img",{staticClass:"w-full h-full object-cover",class:{"opacity-25":e.isLoading},attrs:{src:e.preview,alt:"File preview"}}),e._v(" "),e.isLoading?s("svg",{staticClass:"w-10 h-10 text-black absolute animate-spin",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"}})]):e._e()]):s("div",{staticClass:"absolute inset-0 flex flex-col items-center justify-center space-y-1"},[s("p",{staticClass:"text-gray-900 font-semibold"},[e._v("Upload an image")]),e._v(" "),s("p",{staticClass:"text-gray-700 text-sm leading-5"},[e._v("1600x1200 or larger recommended")])])]),e._v(" "),s("input",{ref:"file",staticClass:"hidden",attrs:{type:"file",accept:"image/*"},on:{change:e.upload}})])}),[],!1,null,null,null).exports,g=s("LvDl"),p={data:function(e){return{tags:Object(g.shuffle)(["Appetizers","Asian","Beas and Peas","Beef","Beverage","Breads & Rolls","Breakfast","Budget Friendly","Cakes","Cheese","Chicken","Desserts","Exotic","Filipino","Healthy","Indian","Italian","Main Dish","Meat and Poultry","Mexican","Original","Pasta","Pork","Quick & Easy","Salads","Salmon","Seafood","Slow Cooker","Smoothies","Soups","Southern","Spicy","Sweets","Vegan","Vegetables","Vegetarian"])}},computed:{paginatedTags:function(){return this.tags.slice(0,9)}},methods:{select:function(e){this.$emit("selected",this.tags[e]),this.tags.splice(e,1)}}},v=Object(r.a)(p,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex flex-wrap"},[e.tags.length?e._e():s("span",{staticClass:"text-gray-500 text-sm leading-5"},[e._v("Woopsie, we just ran out of suggestions.")]),e._v(" "),e._l(e.paginatedTags,(function(t,n){return s("button",{key:"tags-"+t,staticClass:"inline-flex mr-1 focus:outline-none",on:{click:function(t){return e.select(n)}}},[s("span",{staticClass:"text-sm leading-5 text-indigo-600"},[e._v(e._s(t))]),e._v(" "),n<e.paginatedTags.length-1?s("span",{staticClass:"text-sm leading-5 text-gray-500"},[e._v(",")]):e._e()])}))],2)}),[],!1,null,null,null).exports,h={props:{ingredient:{type:Object,default:function(){return{}}}},data:function(e){return{units:["Cups","Grams","Kilograms","Liters","Milliliters","Pieces","Pinch","Pounds","Tablespoons","Teaspoons"],form:{name:e.ingredient.name||"",quantity:e.ingredient.quantity||"1",unit:e.ingredient.unit||"Pieces"}}},computed:{isValid:function(){return!!this.form.quantity&&(!!this.form.unit&&!!this.form.name)}},methods:{submit:function(){this.$emit("submit",this.form),this.close()},close:function(){this.$emit("close")}}},b=Object(r.a)(h,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"z-10 fixed inset-0 flex flex-col items-center justify-end space-y-4 bg-black bg-opacity-50"},[s("button",{staticClass:"bg-black text-white rounded-full w-10 h-10 flex items-center justify-center focus:outline-none",attrs:{type:"button"},on:{click:e.close}},[s("svg",{staticClass:"w-6 h-6",attrs:{viewBox:"0 0 20 20",fill:"currentColor"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"}})])]),e._v(" "),s("form",{staticClass:"self-stretch bg-white rounded-t-xl px-6 py-4 space-y-4",on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[s("h6",{staticClass:"text-lg font-semibold text-center"},[e._v("Add a new ingredient")]),e._v(" "),s("hr",{staticClass:"-mx-6"}),e._v(" "),s("div",{staticClass:"space-y-1"},[s("label",{staticClass:" font-medium text-gray-700"},[e._v("Measurements")]),e._v(" "),s("div",{staticClass:"flex space-x-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.quantity,expression:"form.quantity"}],staticClass:"px-3 py-2 block w-20 rounded-lg border border-gray-200 bg-gray-200 focus:bg-white\n                focus:outline-none focus:shadow-outline-indigo focus:border-indigo-300 transition-shadow duration-100 ease-linear",attrs:{type:"text",placeholder:"Qty"},domProps:{value:e.form.quantity},on:{input:function(t){t.target.composing||e.$set(e.form,"quantity",t.target.value)}}}),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.form.unit,expression:"form.unit"}],staticClass:"px-3 py-2 block w-full form-select rounded-lg border-gray-200 bg-gray-200 focus:bg-white focus:outline-none focus:shadow-outline-indigo focus:border-indigo-300 transition-shadow duration-100 ease-linear",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"unit",t.target.multiple?s:s[0])}}},e._l(e.units,(function(t){return s("option",{key:"units-"+t,domProps:{value:t}},[e._v(e._s(t))])})),0)])]),e._v(" "),s("div",{staticClass:"space-y-1"},[s("label",{staticClass:" font-medium text-gray-700"},[e._v("Ingredient")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"px-3 py-2 block w-full rounded-lg border border-gray-200 bg-gray-200 focus:bg-white\n                focus:outline-none focus:shadow-outline-indigo focus:border-indigo-300 transition-shadow duration-100 ease-linear",attrs:{type:"text"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}})]),e._v(" "),s("button",{staticClass:"rounded-full px-4 py-3 font-medium block w-full bg-pink-500 text-white focus:outline-none",class:{"opacity-50 cursor-not-allowed":!e.isValid},attrs:{type:"submit",disabled:!e.isValid}},[e._v("Add ingredient")])])])}),[],!1,null,null,null).exports,x={props:{value:Array},components:{IngredientForm:b},data:function(e){return{ingredients:e.value,selectedIngredients:[],showForm:!1}},methods:{save:function(e){this.ingredients.push(e)},remove:function(){for(this.selectedIngredients.sort();this.selectedIngredients.length;)this.ingredients.splice(this.selectedIngredients.pop(),1)},isSelected:function(e){return this.selectedIngredients.includes(e)}},watch:{ingredients:{deep:!0,handler:function(e){this.$emit("input",e)}}}};function y(e,t,s,n,i,a,r){try{var o=e[a](r),l=o.value}catch(e){return void s(e)}o.done?t(l):Promise.resolve(l).then(n,i)}var w={components:{FormField:o,TagsInput:c,FileUpload:m,SuggestedTags:v,IngredientList:Object(r.a)(x,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"space-y-4"},[s("div",{staticClass:"flex justify-between"},[s("div",{staticClass:"flex space-x-2"},[s("label",{staticClass:" font-medium text-gray-700"},[e._v("Ingredients")]),e._v(" "),e.selectedIngredients.length?s("button",{staticClass:"text-red-500  focus:outline-none",attrs:{type:"button"},on:{click:e.remove}},[e._v("\n                    Remove\n                ")]):e._e()]),e._v(" "),s("button",{staticClass:"text-gray-700 focus:outline-none",attrs:{type:"button"},on:{click:function(t){e.showForm=!0}}},[s("svg",{staticClass:"w-6 h-6",attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"}})])])]),e._v(" "),s("ul",{staticClass:"space-y-2"},[e.ingredients.length?e._e():s("li",{staticClass:"flex items-center space-x-2"},[s("svg",{staticClass:"text-gray-400 w-5 h-5",attrs:{viewBox:"0 0 20 20",fill:"currentColor"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"}})]),e._v(" "),s("p",{staticClass:"text-gray-500 text-sm leading-5"},[e._v("\n                    You haven't added any ingredients yet.\n                ")])]),e._v(" "),e._l(e.ingredients,(function(t,n){return s("li",{key:"ingredients-"+n},[s("label",{staticClass:"inline-flex items-center space-x-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedIngredients,expression:"selectedIngredients"}],staticClass:"form-checkbox text-indigo-500",attrs:{type:"checkbox"},domProps:{value:n,checked:Array.isArray(e.selectedIngredients)?e._i(e.selectedIngredients,n)>-1:e.selectedIngredients},on:{change:function(t){var s=e.selectedIngredients,i=t.target,a=!!i.checked;if(Array.isArray(s)){var r=n,o=e._i(s,r);i.checked?o<0&&(e.selectedIngredients=s.concat([r])):o>-1&&(e.selectedIngredients=s.slice(0,o).concat(s.slice(o+1)))}else e.selectedIngredients=a}}}),e._v(" "),s("div",{class:e.isSelected(n)?"text-indigo-700":"text-gray-700"},[e._v("\n                        "+e._s(t.quantity+" "+t.unit+" of "+t.name)+"\n                    ")])])])}))],2)]),e._v(" "),e.showForm?s("IngredientForm",{on:{submit:function(t){return e.save(t)},close:function(t){e.showForm=!1}}}):e._e()],1)}),[],!1,null,null,null).exports},mounted:function(){this.$el.style.height="".concat(window.innerHeight,"px")},data:function(e){return{state:"idle",form:{name:"",tags:[],description:"",ingredients:[],instructions:"",thumbnail:null}}},computed:{isValid:function(){return!!this.form.name&&(!!this.form.tags.length&&(!!this.form.description&&(!!this.form.ingredients.length&&(!!this.form.instructions&&!!this.form.thumbnail))))},isLoading:function(){return"loading"===this.state},canSubmit:function(){return!!this.isValid&&!this.isLoading}},methods:{submit:function(){var e,t=this;return(e=i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state="loading",e.next=3,t.$inertia.post(t.$route("recipes.store"),t.form);case 3:t.state="idle";case 4:case"end":return e.stop()}}),e)})),function(){var t=this,s=arguments;return new Promise((function(n,i){var a=e.apply(t,s);function r(e){y(a,n,i,r,o,"next",e)}function o(e){y(a,n,i,r,o,"throw",e)}r(void 0)}))})()}}},_=Object(r.a)(w,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex flex-col"},[s("div",{staticClass:"h-16 bg-indigo-600 flex justify-between"},[s("InertiaLink",{staticClass:"inline-flex items-center px-4 text-white font-semibold",attrs:{href:e.$route("home")}},[e._v("\n            Cancel\n        ")]),e._v(" "),s("button",{staticClass:"inline-flex items-center px-4 text-white font-semibold focus:outline-none",class:{"opacity-50":!e.canSubmit},attrs:{disabled:!e.canSubmit},on:{click:e.submit}},[e._v("\n            "+e._s(e.isLoading?"Saving":"Save")+"\n        ")])],1),e._v(" "),s("div",{staticClass:"flex-1 overflow-y-auto"},[s("div",{staticClass:"p-4 space-y-4 mb-10"},[s("h2",{staticClass:"font-medium text-center"},[e._v("Publish your recipe")]),e._v(" "),s("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[s("div",{staticClass:"space-y-6"},[s("FileUpload",{model:{value:e.form.thumbnail,callback:function(t){e.$set(e.form,"thumbnail",t)},expression:"form.thumbnail"}}),e._v(" "),s("div",{staticClass:"space-y-1"},[s("label",{staticClass:"font-medium text-gray-700"},[e._v("Name")]),e._v(" "),s("FormField",{attrs:{name:"name"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"px-3 py-2 rounded-lg block w-full bg-gray-200 border border-gray-200 focus:bg-white focus:border-indigo-300 focus:outline-none focus:shadow-outline-indigo transition-shadow duration-100 ease-linear",attrs:{type:"text"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}})])],1),e._v(" "),s("div",{staticClass:"space-y-1"},[s("label",{staticClass:"font-medium text-gray-700"},[e._v("Tags")]),e._v(" "),s("FormField",{attrs:{name:"tags"}},[s("TagsInput",{model:{value:e.form.tags,callback:function(t){e.$set(e.form,"tags",t)},expression:"form.tags"}})],1)],1),e._v(" "),s("div",{staticClass:"space-y-2"},[s("div",{staticClass:"text-xs leading-5 font-semibold uppercase tracking-wide text-gray-700"},[e._v("Suggested Tags")]),e._v(" "),s("SuggestedTags",{on:{selected:function(t){return e.form.tags.push(t)}}})],1),e._v(" "),s("div",{staticClass:"space-y-1"},[s("label",{staticClass:"font-medium text-gray-700"},[e._v("Description")]),e._v(" "),s("FormField",{attrs:{name:"description"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],staticClass:"px-3 py-2 rounded-lg block w-full bg-gray-200 border border-gray-200 focus:bg-white focus:border-indigo-300 focus:outline-none focus:shadow-outline-indigo transition-shadow duration-100 ease-linear",attrs:{placeholder:"Tell us something about this recipe",rows:"4"},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}})])],1),e._v(" "),s("hr",{staticClass:"-mx-4"}),e._v(" "),s("IngredientList",{model:{value:e.form.ingredients,callback:function(t){e.$set(e.form,"ingredients",t)},expression:"form.ingredients"}}),e._v(" "),s("hr",{staticClass:"-mx-4"}),e._v(" "),s("div",{staticClass:"space-y-1"},[s("label",{staticClass:"font-medium text-gray-700"},[e._v("Preparations")]),e._v(" "),s("FormField",{attrs:{name:"instructions"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.instructions,expression:"form.instructions"}],staticClass:"px-3 py-2 rounded-lg block w-full bg-gray-200 border border-gray-200 focus:bg-white focus:border-indigo-300 focus:outline-none focus:shadow-outline-indigo transition-shadow duration-100 ease-linear",attrs:{placeholder:"Steps for making this awesome recipe",rows:"8"},domProps:{value:e.form.instructions},on:{input:function(t){t.target.composing||e.$set(e.form,"instructions",t.target.value)}}})])],1)],1)])])])])}),[],!1,null,null,null);t.default=_.exports}}]);